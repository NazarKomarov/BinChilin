import java.util.*;

public class Main {
    // –ö–ª–∞—Å—Å —Å–æ–±—ã—Ç–∏—è
    static class Event {
        String description;
        boolean occurred;

        Event(String description) {
            this.description = description;
            this.occurred = false;
        }

        void markOccurred() {
            occurred = true;
        }
    }

    // –ö–ª–∞—Å—Å –∏–≥—Ä–æ–∫–∞
    static class Player {
        String name;
        int wins;

        Player(String name) {
            this.name = name;
            this.wins = 0;
        }

        void addWin() {
            wins++;
        }
    }

    // –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤
    static class Leaderboard {
        Map<String, Player> players = new HashMap<>();

        void recordWin(String name) {
            players.putIfAbsent(name, new Player(name));
            players.get(name).addWin();
        }

        void show() {
            System.out.println("\nüèÜ –¢–∞–±–ª–∏—Ü—è –ª—ñ–¥–µ—Ä—ñ–≤:");
            players.values().stream()
                    .sorted((a, b) -> Integer.compare(b.wins, a.wins))
                    .forEach(p -> System.out.println(p.name + ": " + p.wins + " –ø–µ—Ä–µ–º–æ–≥"));
        }
    }

    // –ì–ª–∞–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–≥—Ä—ã
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        List<String> allEventDescriptions = getAllEvents();
        Leaderboard leaderboard = new Leaderboard();

        while (true) {
            System.out.print("\n–í–≤–µ–¥—ñ—Ç—å —ñ–º'—è —É—á–∞—Å–Ω–∏–∫–∞ (–∞–±–æ 'exit' –¥–ª—è –≤–∏—Ö–æ–¥—É): ");
            String playerName = scanner.nextLine();
            if (playerName.equalsIgnoreCase("exit")) break;

            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
            List<Event> roundEvents = new ArrayList<>();
            Collections.shuffle(allEventDescriptions);
            for (int i = 0; i < 24; i++) {
                roundEvents.add(new Event(allEventDescriptions.get(i)));
            }

            System.out.println("\nüîî –Ü–≤–µ–Ω—Ç–∏ —Ü—å–æ–≥–æ —Ä–∞—É–Ω–¥–∞:");
            for (int i = 0; i < roundEvents.size(); i++) {
                System.out.println((i + 1) + ". " + roundEvents.get(i).description);
            }

            // –ü–æ–º–µ—Ç–∫–∞ –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–∏—Ö
            System.out.println("\n–í–µ–¥—ñ—Ç—å —ñ–≤–µ–Ω—Ç —è–∫–∏–π —Å—Ç–∞–≤—Å—è (–∞–±–æ 'stop' –¥–ª—è –∑—É–ø–∏–Ω–µ–Ω–Ω—è –≥—Ä–∏):");
            while (true) {
                String input = scanner.nextLine();
                if (input.equalsIgnoreCase("stop")) break;
                try {
                    int index = Integer.parseInt(input) - 1;
                    if (index >= 0 && index < roundEvents.size()) {
                        roundEvents.get(index).markOccurred();
                        System.out.println("‚úÖ –Ü–≤–µ–Ω—Ç –≤—ñ–¥–º—ñ—á–µ–Ω–æ: " + roundEvents.get(index).description);
                    } else {
                        System.out.println("–ù–µ–≤—ñ—Ä–Ω–∏–π –Ω–æ–º–µ—Ä.");
                    }
                } catch (NumberFormatException e) {
                    System.out.println("–í–≤–µ–¥—ñ—Ç—å —á–∏—Å–ª–æ.");
                }
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥—ã
            long occurredCount = roundEvents.stream().filter(e -> e.occurred).count();
            if (occurredCount >= 5) {
                System.out.println("üéâ –ü–µ—Ä–µ–º–æ–≥–∞! " + playerName + " –í–∏–≥—Ä–∞(–≤/–ª–∞).");
                leaderboard.recordWin(playerName);
            } else {
                System.out.println("üòï –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ —ñ–≤–µ–Ω—Ç—ñ–≤ –¥–ª—è –ø–µ—Ä–µ–º–æ–≥–∏. (" + occurredCount + " –∑ 5)");
            }

            leaderboard.show();
        }

        System.out.println("–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.");
    }

    // –í—Å–µ 48 —Å–æ–±—ã—Ç–∏–π
    private static List<String> getAllEvents() {
        return Arrays.asList(
                "–í–∏–∫–ª–∞–¥–∞—á –∑–∞—Ö–æ–¥–∏—Ç—å —É –∫–ª–∞—Å",
                "–•—Ç–æ—Å—å –∑–∞–ø—ñ–∑–Ω—é—î—Ç—å—Å—è",
                "–í–∏–∫–ª–∞–¥–∞—á –≤—ñ–¥–∫—Ä–∏–≤–∞—î –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—é",
                "–•—Ç–æ—Å—å –ø–∏—Ç–∞—î, —â–æ –±—É–ª–æ –Ω–∞ –º–∏–Ω—É–ª—ñ–π –ø–∞—Ä—ñ",
                "–í–∏–∫–ª–∞–¥–∞—á –∫–∞–∂–µ \"—Ü–µ –≤–∞–∂–ª–∏–≤–æ\"",
                "–•—Ç–æ—Å—å –≥–æ—Ä—Ç–∞—î —Å–æ—Ü–º–µ—Ä–µ–∂—ñ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ",
                "–í–∏–∫–ª–∞–¥–∞—á –∑–∞–ø–∏—Ç—É—î, —á–∏ —î –ø–∏—Ç–∞–Ω–Ω—è.",
                "–í–∏–∫–ª–∞–¥–∞—á –¥–∏–≤–∏—Ç—å—Å—è –Ω–∞ –∫–æ–≥–æ—Å—å –≤ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ",
                "–í–∏–∫–ª–∞–¥–∞—á –ø–æ–≤—Ç–æ—Ä—é—î —â–æ—Å—å –¥–≤—ñ—á—ñ.",
                "–í–∏–∫–ª–∞–¥–∞—á –ø–∏—à–µ –Ω–∞ –¥–æ—à—Ü—ñ",
                "–•—Ç–æ—Å—å –ø—Ä–æ—Å–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–∏—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª",
                "–í–∏–∫–ª–∞–¥–∞—á –∂–∞—Ä—Ç—É—î",
                "–í–∏–∫–ª–∞–¥–∞—á –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞",
                "–í–∏–∫–ª–∞–¥–∞—á –∑–≥–∞–¥—É—î —â–æ—Å—å –∑ –º–∏–Ω—É–ª–∏—Ö —Ç–µ–º",
                "–•—Ç–æ—Å—å –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–µ–≤–ø–µ–≤–Ω–µ–Ω–æ",
                "–í–∏–∫–ª–∞–¥–∞—á –≥–æ–≤–æ—Ä–∏—Ç—å \"—Ü–µ –±—É–¥–µ –Ω–∞ –µ–∫–∑–∞–º–µ–Ω—ñ\"",
                "–í–∏–∫–ª–∞–¥–∞—á —Ä–æ–±–∏—Ç—å –ø–∞—É–∑—É –≤ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—ñ —Ç–∏—à—ñ. —É –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –≥–∞–ª–∞—Å?",
                "–•—Ç–æ—Å—å –ø–∏—à–µ –∫–æ–Ω—Å–ø–µ–∫—Ç",
                "–í–∏–∫–ª–∞–¥–∞—á –≥–æ–≤–æ—Ä–∏—Ç—å \"–º–∏ –≤–∂–µ —Ü–µ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏\"",
                "–•—Ç–æ—Å—å —Ö–∏—Ç–∞—î –≥–æ–ª–æ–≤–æ—é, –Ω—ñ–±–∏ —Ä–æ–∑—É–º—ñ—î",
                "–í–∏–∫–ª–∞–¥–∞—á –ø—Ä–æ–≤–æ–¥–∏—Ç—å –∞–Ω–∞–ª–æ–≥—ñ—é –∑ –∂–∏—Ç—Ç—è–º",
                "–í–∏–∫–ª–∞–¥–∞—á –∫–∞–∂–µ, —â–æ —á–∞—Å—É –∑–∞–ª–∏—à–∏–ª–æ—Å—è –º–∞–ª–æ",
                "–í–∏–∫–ª–∞–¥–∞—á –∫–∞–∂–µ, —â–æ –º–∞—Ç–µ—Ä—ñ–∞–ª —î –≤ –ø—ñ–¥—Ä—É—á–Ω–∏–∫—É",
                "–í–∏–∫–ª–∞–¥–∞—á –ø—Ä–æ—Å–∏—Ç—å –∫–æ–≥–æ—Å—å –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏",
                "–í–∏–∫–ª–∞–¥–∞—á –ø—Ä–∏—Ö–æ–¥–∏—Ç—å —ñ–∑ –∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è–º",
                "–í–∏–∫–ª–∞–¥–∞—á –≤–∏–ø–∞–¥–∫–æ–≤–æ –∫–∞–∂–µ —â–æ—Å—å —Å–º—ñ—à–Ω–µ",
                "–í –∞—É–¥–∏—Ç–æ—Ä—ñ—ó –≤–∏–º–∏–∫–∞—é—Ç—å —Å–≤—ñ—Ç–ª–æ/–µ–ª–µ–∫—Ç—Ä–∏–∫—É",
                "–•—Ç–æ—Å—å –∑–∞–ø–∏—Ç—É—î –ø—Ä–æ –µ–∫–∑–∞–º–µ–Ω",
                "–•—Ç–æ—Å—å –ø—ñ–¥–Ω—ñ–º–∞—î —Ä—É–∫—É –¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ",
                "–í–∏–∫–ª–∞–¥–∞—á –∑–≥–∞–¥—É—î —ñ—Å—Ç–æ—Ä—ñ—é –∑—ñ —Å—Ç—É–¥–µ–Ω—Ç—Å—å–∫–æ–≥–æ –∂–∏—Ç—Ç—è",
                "–í–∏–∫–ª–∞–¥–∞—á –ø–ª—É—Ç–∞—î—Ç—å—Å—è —É –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ.",
                "–í–∏–∫–ª–∞–¥–∞—á –∑–∞–±—É–≤–∞—î, —â–æ –∫–∞–∑–∞–≤",
                "–•—Ç–æ—Å—å —â–æ—Å—å —Ä–æ–Ω—è—î",
                "–í–∏–∫–ª–∞–¥–∞—á –ø–∏—Ç–∞—î, —Ö—Ç–æ –Ω–µ –∑—Ä–æ–±–∏–≤ –¥–æ–º–∞—à–∫—É –∞–±–æ –Ω–∞–≤–ø–∞–∫–∏",
                ".–í–∏–∫–ª–∞–¥–∞—á —Ä–∞–ø—Ç–æ–≤–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ —ñ–Ω—à—É —Ç–µ–º—É",
                "–í–∏–∫–ª–∞–¥–∞—á –∑–∞–¥–∞—î —Ä–∏—Ç–æ—Ä–∏—á–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è",
                "–í–∏–∫–ª–∞–¥–∞—á –∫–∞–∂–µ \"–Ω–∞ —Ü—å–æ–º—É –º–∏ –∑–∞–∫—ñ–Ω—á–∏–º–æ —Ä–∞–Ω—ñ—à–µ\"",
                "–í–∏–∫–ª–∞–¥–∞—á –∫–∞–∂–µ \"—Ü–µ –±—É–¥–µ –ª–µ–≥–∫–µ –ø–∏—Ç–∞–Ω–Ω—è –Ω–∞ –µ–∫–∑–∞–º–µ–Ω—ñ\"",
                "–•—Ç–æ—Å—å —Å–º—ñ—î—Ç—å—Å—è, –∞–ª–µ –Ω–µ —á–µ—Ä–µ–∑ –≤–∏–∫–ª–∞–¥–∞—á–∞",
                "–í–∏–∫–ª–∞–¥–∞—á –∑–∞–±—É–≤–∞—î —Å–ª–æ–≤–æ —ñ —à—É–∫–∞—î –π–æ–≥–æ",
                "–í–∏–∫–ª–∞–¥–∞—á –≤–∏–ø–∞–¥–∫–æ–≤–æ –∫–∞–∂–µ —â–æ—Å—å —ñ–Ω—à–æ—é –º–æ–≤–æ—é",
                "–í–∏–∫–ª–∞–¥–∞—á —Å—Ç–∞–≤–∏—Ç—å –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–µ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è",
                "–•—Ç–æ—Å—å –≤–∏—Ö–æ–¥–∏—Ç—å —ñ–∑ –∑–∞–Ω—è—Ç—Ç—è —Ä–∞–Ω—ñ—à–µ",
                "–í–∏–∫–ª–∞–¥–∞—á –∑–º—ñ–Ω—é—î —Ç–µ–º—É –ø–æ—Å–µ—Ä–µ–¥ —Ä–µ—á–µ–Ω–Ω—è",
                "–í–∏–∫–ª–∞–¥–∞—á –≥–æ–≤–æ—Ä–∏—Ç—å —Ñ—Ä–∞–∑—É \"—è–∫–±–∏ —É –Ω–∞—Å –±—É–ª–æ –±—ñ–ª—å—à–µ —á–∞—Å—É...\"",
                "–•—Ç–æ—Å—å –≥–æ–ª–æ—Å–Ω–æ –∫–∞—à–ª—è—î –∞–±–æ —á—Ö–∞—î",
                "–í–∏–∫–ª–∞–¥–∞—á —Ä–æ–±–∏—Ç—å –¥–æ–≤–≥—É –ø–∞—É–∑—É",
                "–•—Ç–æ—Å—å —Å—Ç–∞–≤–∏—Ç—å –¥—É–∂–µ –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–µ –∞–±–æ –¥–∏–≤–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è"
        );
    }
}
